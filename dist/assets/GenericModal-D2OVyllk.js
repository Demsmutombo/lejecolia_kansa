import{l as i,o as l,j as x,n as h,h as o,C as w,m as g,t as u,a as z,c as p,w as X,f as N,F as S,D as P,H as Y,p as T,g as F,I as Z}from"./vendor-5ChSB122.js";import{_ as R,a as ee,p as te,f as K}from"./index-C7KYosbF.js";import{M as H}from"./bootstrap-DXdCWnwj.js";const ae={__name:"ArgonPagination",props:{color:{type:String,default:"success"},size:{type:String,default:"md"}},setup(s){const C=(d,m)=>{let f,r;return f=d?`pagination-${d}`:null,r=m?`pagination-${m}`:null,`${f} ${r}`};return(d,m)=>(l(),i("ul",{class:h(["pagination",C(s.color,s.size)])},[x(d.$slots,"default")],2))}},se={class:"page-link",href:"javascript:;"},le={key:0,class:"fa fa-angle-left"},ne={key:1,class:"fa fa-angle-right"},L={__name:"ArgonPaginationItem",props:{label:{type:String,default:""},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},prev:{type:Boolean,default:!1},next:{type:Boolean,default:!1}},setup(s){const C=(d,m)=>{let f,r;return f=d?"active":null,r=m?"disabled":null,`${f} ${r}`};return(d,m)=>(l(),i("li",{class:h(["page-item",C(s.active,s.disabled)])},[o("a",se,[w(u(s.prev||s.next?null:s.label)+" ",1),s.prev?(l(),i("i",le)):g("",!0),s.next?(l(),i("i",ne)):g("",!0)])],2))}},ie={key:0,class:"card-header pb-0"},oe={class:"d-flex justify-content-between align-items-center flex-wrap"},de={class:"mb-2 mb-md-0"},re={class:"mb-0"},ce={key:0,class:"text-sm text-secondary mb-0"},ue={class:"d-flex gap-2 align-items-center"},fe={class:"card-body px-0 pt-0 pb-2"},me={key:0,class:"text-center p-4"},ye={class:"text-sm text-secondary mt-2"},ge={key:1,class:"text-center p-4"},he={class:"text-sm text-secondary"},ve={key:2,class:"table-responsive p-0"},be={class:"table align-items-center mb-0"},pe={key:0,class:"text-secondary opacity-7"},xe=["onClick"],Ce=["innerHTML"],$e={key:0,class:"align-middle"},ke={class:"d-flex gap-2 justify-content-end"},Se=["title","onClick"],Pe={key:1},we={key:3,class:"d-flex justify-content-between align-items-center px-3 py-3 flex-wrap"},Te={class:"text-sm text-secondary mb-2 mb-md-0"},Ve={__name:"DataTable",props:{data:{type:Array,default:()=>[]},columns:{type:Array,required:!0},actions:{type:Array,default:()=>[]},title:{type:String,default:""},subtitle:{type:String,default:""},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"Chargement..."},emptyText:{type:String,default:"Aucune donnÃ©e"},showSearch:{type:Boolean,default:!1},searchFields:{type:Array,default:()=>[]},showPagination:{type:Boolean,default:!0},itemsPerPage:{type:Number,default:10},cardClass:{type:String,default:""},rowClass:{type:String,default:""},rowKey:{type:String,default:"id"}},emits:["action","row-click"],setup(s,{emit:C}){const d=s,m=C,f=z(""),r=z(1),V=p(()=>d.actions&&d.actions.length>0),v=p(()=>{if(!f.value||d.searchFields.length===0)return d.data;const e=f.value.toLowerCase();return d.data.filter(a=>d.searchFields.some(t=>{const n=$(a,t);return n&&n.toString().toLowerCase().includes(e)}))}),k=p(()=>Math.ceil(v.value.length/d.itemsPerPage)),M=p(()=>(r.value-1)*d.itemsPerPage),y=p(()=>Math.min(M.value+d.itemsPerPage,v.value.length)),b=p(()=>d.showPagination?v.value.slice(M.value,y.value):v.value),q=p(()=>{const e=[];let t=Math.max(1,r.value-2),n=Math.min(k.value,t+5-1);n-t<4&&(t=Math.max(1,n-5+1));for(let c=t;c<=n;c++)e.push(c);return e}),$=(e,a)=>a.split(".").reduce((t,n)=>t==null?void 0:t[n],e),E=(e,a)=>$(e,d.rowKey)||a,G=(e,a)=>{const t=[];return e.align==="center"&&t.push("text-center"),e.align==="right"&&t.push("text-end"),a>0&&t.push("ps-2"),t.join(" ")},O=e=>{const a=[e.className||""];return e.align==="center"&&a.push("align-middle text-center"),e.align==="right"&&a.push("align-middle text-end"),a.join(" ")},Q=(e,a,t=0)=>{const n=$(a,e.key);if(e.render)return e.render(n,a,t);switch(e.type){case"index":return`<strong>${(r.value-1)*d.itemsPerPage+t+1}</strong>`;case"badge":return`<span class="badge badge-sm bg-gradient-${e.badgeColor?typeof e.badgeColor=="function"?e.badgeColor(n,a):e.badgeColor:"primary"}">${n||"-"}</span>`;case"date":return n?new Date(n).toLocaleDateString("fr-FR"):"-";case"currency":return n!=null?new Intl.NumberFormat("fr-CD",{style:"currency",currency:"CDF"}).format(n):"-";case"avatar":const D=$(a,e.nameKey||"name"),I=$(a,e.emailKey||"email");return`
        <div class="d-flex px-2 py-1">
          <div>
            <img src="${$(a,e.avatarKey||"avatar")||te}" class="avatar avatar-sm me-3" alt="${D}" />
          </div>
          <div class="d-flex flex-column justify-content-center">
            <h6 class="mb-0 text-sm">${D||"-"}</h6>
            ${I?`<p class="text-xs text-secondary mb-0">${I}</p>`:""}
          </div>
        </div>
      `;default:return n||"-"}},A=(e,a)=>typeof e.label=="function"?e.label(a):e.label,j=(e,a)=>typeof e.icon=="function"?e.icon(a):e.icon,U=(e,a)=>(typeof e.class=="function"?e.class(a):e.class)||"text-secondary",J=(e,a,t)=>{e.onClick&&e.onClick(a,t),m("action",{action:e.name||A(e,a),row:a,index:t})},W=(e,a)=>{m("row-click",{row:e,index:a})},B=e=>{e>=1&&e<=k.value&&(r.value=e)};return X(f,()=>r.value=1),(e,a)=>(l(),i("div",{class:h(["card",s.cardClass])},[s.title||e.$slots.header||s.showSearch||e.$slots.actions?(l(),i("div",ie,[o("div",oe,[o("div",de,[x(e.$slots,"header",{},()=>[o("h6",re,u(s.title),1),s.subtitle?(l(),i("p",ce,u(s.subtitle),1)):g("",!0)],!0)]),o("div",ue,[s.showSearch?(l(),N(ee,{key:0,modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=t=>f.value=t),type:"text",placeholder:"Rechercher...",size:"sm",class:"mb-0",style:{"min-width":"200px"}},null,8,["modelValue"])):g("",!0),x(e.$slots,"actions",{},void 0,!0)])])])):g("",!0),o("div",fe,[s.loading?(l(),i("div",me,[a[3]||(a[3]=o("i",{class:"fas fa-spinner fa-spin fa-2x text-primary"},null,-1)),o("p",ye,u(s.loadingText),1)])):!v.value||v.value.length===0?(l(),i("div",ge,[a[4]||(a[4]=o("i",{class:"ni ni-folder-17 fa-2x text-secondary mb-3"},null,-1)),o("p",he,u(s.emptyText),1)])):(l(),i("div",ve,[o("table",be,[o("thead",null,[o("tr",null,[(l(!0),i(S,null,P(s.columns,(t,n)=>(l(),i("th",{key:n,class:h(["text-uppercase text-secondary text-xxs font-weight-bolder opacity-7",G(t,n)]),style:Y(t.width?`width: ${t.width}`:"")},u(t.label),7))),128)),V.value?(l(),i("th",pe)):g("",!0)])]),o("tbody",null,[(l(!0),i(S,null,P(b.value,(t,n)=>(l(),i("tr",{key:E(t,n),class:h(s.rowClass),onClick:c=>W(t,n)},[(l(!0),i(S,null,P(s.columns,(c,_)=>(l(),i("td",{key:_,class:h(O(c))},[x(e.$slots,`cell-${c.key}`,{row:t,value:$(t,c.key),index:n},()=>[o("span",{innerHTML:Q(c,t,n)},null,8,Ce)],!0)],2))),128)),V.value?(l(),i("td",$e,[x(e.$slots,"row-actions",{row:t,index:n},()=>[o("div",ke,[(l(!0),i(S,null,P(s.actions,(c,_)=>(l(),i("a",{key:_,href:"javascript:;",class:h(["font-weight-bold text-xs",U(c,t)]),title:A(c,t),onClick:Z(D=>J(c,t,n),["stop"])},[j(c,t)?(l(),i("i",{key:0,class:h([j(c,t),"me-1"])},null,2)):g("",!0),c.iconOnly?g("",!0):(l(),i("span",Pe,u(A(c,t)),1))],10,Se))),128))])],!0)])):g("",!0)],10,xe))),128))])])])),s.showPagination&&k.value>1?(l(),i("div",we,[o("div",Te,u(M.value+1)+"-"+u(y.value)+" sur "+u(v.value.length),1),T(ae,null,{default:F(()=>[T(L,{disabled:r.value===1,onClick:a[1]||(a[1]=t=>B(r.value-1)),prev:""},null,8,["disabled"]),(l(!0),i(S,null,P(q.value,t=>(l(),N(L,{key:t,label:t.toString(),active:t===r.value,onClick:n=>B(t)},null,8,["label","active","onClick"]))),128)),T(L,{disabled:r.value===k.value,onClick:a[2]||(a[2]=t=>B(r.value+1)),next:""},null,8,["disabled"])]),_:1})])):g("",!0)])],2))}},Re=R(Ve,[["__scopeId","data-v-5f53eda4"]]),Me=["id"],_e={class:"modal-content"},Ae={class:"modal-header"},Be={class:"modal-title"},De={class:"modal-body"},Le={key:0,class:"modal-footer"},ze={key:0},Fe={key:1},je={__name:"GenericModal",props:{modalId:{type:String,required:!0},title:{type:String,default:"Modal"},size:{type:String,default:"md",validator:s=>["sm","md","lg","xl","fullscreen"].includes(s)},hideFooter:{type:Boolean,default:!1},cancelText:{type:String,default:"Annuler"},confirmText:{type:String,default:"Confirmer"},confirmColor:{type:String,default:"success"},confirmIcon:{type:String,default:"fas fa-check"},loadingText:{type:String,default:"Chargement..."},isLoading:{type:Boolean,default:!1}},emits:["confirm","cancel","close"],setup(s,{expose:C,emit:d}){const m=s,f=d,r=z(null),V=p(()=>({sm:"modal-sm",md:"modal-custom-md",lg:"modal-lg",xl:"modal-xl",fullscreen:"modal-fullscreen"})[m.size]||""),v=()=>{f("confirm")};return C({show:()=>{r.value&&new H(r.value).show()},hide:()=>{if(r.value){const y=H.getInstance(r.value);y&&y.hide()}}}),(y,b)=>(l(),i("div",{class:"modal fade",id:s.modalId,tabindex:"-1","aria-hidden":"true",ref_key:"modalElement",ref:r},[o("div",{class:h(["modal-dialog modal-dialog-centered",V.value])},[o("div",_e,[o("div",Ae,[o("h5",Be,[x(y.$slots,"title",{},()=>[w(u(s.title),1)],!0)]),b[0]||(b[0]=o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),o("div",De,[x(y.$slots,"body",{},()=>[b[1]||(b[1]=o("p",null,"Contenu du modal",-1))],!0)]),s.hideFooter?g("",!0):(l(),i("div",Le,[x(y.$slots,"footer",{},()=>[T(K,{type:"button",color:"secondary","data-bs-dismiss":"modal"},{default:F(()=>[w(u(s.cancelText),1)]),_:1}),T(K,{type:"button",color:s.confirmColor,onClick:v,disabled:s.isLoading},{default:F(()=>[s.isLoading?(l(),i("span",ze,[b[2]||(b[2]=o("i",{class:"fas fa-spinner fa-spin me-2"},null,-1)),w(" "+u(s.loadingText),1)])):(l(),i("span",Fe,[o("i",{class:h(s.confirmIcon+" me-2")},null,2),w(" "+u(s.confirmText),1)]))]),_:1},8,["color","disabled"])],!0)]))])],2)],8,Me))}},qe=R(je,[["__scopeId","data-v-342a4b7b"]]);export{Re as D,qe as G};
