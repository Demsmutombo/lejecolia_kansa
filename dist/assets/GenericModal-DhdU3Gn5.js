import{l as i,o as l,j as p,n as g,h as o,C as S,m as y,t as u,a as L,c as b,w as te,f as N,F as k,G as _,J as ae,p as P,g as z,D as R,E as q,K as se}from"./vendor-Bjq3GXyS.js";import{_ as H,a as le,p as ne,f as E}from"./index-CwjmzDsC.js";import{M as G}from"./bootstrap-DXdCWnwj.js";const ie={__name:"ArgonPagination",props:{color:{type:String,default:"success"},size:{type:String,default:"md"}},setup(t){const x=(d,m)=>{let f,c;return f=d?`pagination-${d}`:null,c=m?`pagination-${m}`:null,`${f} ${c}`};return(d,m)=>(l(),i("ul",{class:g(["pagination",x(t.color,t.size)])},[p(d.$slots,"default")],2))}},oe={class:"page-link",href:"javascript:;"},de={key:0,class:"fa fa-angle-left"},ce={key:1,class:"fa fa-angle-right"},D={__name:"ArgonPaginationItem",props:{label:{type:String,default:""},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},prev:{type:Boolean,default:!1},next:{type:Boolean,default:!1}},setup(t){const x=(d,m)=>{let f,c;return f=d?"active":null,c=m?"disabled":null,`${f} ${c}`};return(d,m)=>(l(),i("li",{class:g(["page-item",x(t.active,t.disabled)])},[o("a",oe,[S(u(t.prev||t.next?null:t.label)+" ",1),t.prev?(l(),i("i",de)):y("",!0),t.next?(l(),i("i",ce)):y("",!0)])],2))}},O=t=>(R("data-v-5f53eda4"),t=t(),q(),t),re={key:0,class:"card-header pb-0"},ue={class:"d-flex justify-content-between align-items-center flex-wrap"},fe={class:"mb-2 mb-md-0"},me={class:"mb-0"},he={key:0,class:"text-sm text-secondary mb-0"},ye={class:"d-flex gap-2 align-items-center"},ge={class:"card-body px-0 pt-0 pb-2"},ve={key:0,class:"text-center p-4"},be=O(()=>o("i",{class:"fas fa-spinner fa-spin fa-2x text-primary"},null,-1)),pe={class:"text-sm text-secondary mt-2"},xe={key:1,class:"text-center p-4"},$e=O(()=>o("i",{class:"ni ni-folder-17 fa-2x text-secondary mb-3"},null,-1)),Ce={class:"text-sm text-secondary"},ke={key:2,class:"table-responsive p-0"},_e={class:"table align-items-center mb-0"},Se={key:0,class:"text-secondary opacity-7"},Pe=["onClick"],we=["innerHTML"],Te={key:0,class:"align-middle"},Ve={class:"d-flex gap-2 justify-content-end"},Me=["title","onClick"],Ae={key:1},Be={key:3,class:"d-flex justify-content-between align-items-center px-3 py-3 flex-wrap"},De={class:"text-sm text-secondary mb-2 mb-md-0"},Le={__name:"DataTable",props:{data:{type:Array,default:()=>[]},columns:{type:Array,required:!0},actions:{type:Array,default:()=>[]},title:{type:String,default:""},subtitle:{type:String,default:""},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"Chargement..."},emptyText:{type:String,default:"Aucune donnÃ©e"},showSearch:{type:Boolean,default:!1},searchFields:{type:Array,default:()=>[]},showPagination:{type:Boolean,default:!0},itemsPerPage:{type:Number,default:10},cardClass:{type:String,default:""},rowClass:{type:String,default:""},rowKey:{type:String,default:"id"}},emits:["action","row-click"],setup(t,{emit:x}){const d=t,m=x,f=L(""),c=L(1),w=b(()=>d.actions&&d.actions.length>0),v=b(()=>{if(!f.value||d.searchFields.length===0)return d.data;const e=f.value.toLowerCase();return d.data.filter(s=>d.searchFields.some(a=>{const n=$(s,a);return n&&n.toString().toLowerCase().includes(e)}))}),C=b(()=>Math.ceil(v.value.length/d.itemsPerPage)),T=b(()=>(c.value-1)*d.itemsPerPage),h=b(()=>Math.min(T.value+d.itemsPerPage,v.value.length)),I=b(()=>d.showPagination?v.value.slice(T.value,h.value):v.value),J=b(()=>{const e=[];let a=Math.max(1,c.value-2),n=Math.min(C.value,a+5-1);n-a<4&&(a=Math.max(1,n-5+1));for(let r=a;r<=n;r++)e.push(r);return e}),$=(e,s)=>s.split(".").reduce((a,n)=>a==null?void 0:a[n],e),Q=(e,s)=>$(e,d.rowKey)||s,U=(e,s)=>{const a=[];return e.align==="center"&&a.push("text-center"),e.align==="right"&&a.push("text-end"),s>0&&a.push("ps-2"),a.join(" ")},W=e=>{const s=[e.className||""];return e.align==="center"&&s.push("align-middle text-center"),e.align==="right"&&s.push("align-middle text-end"),s.join(" ")},X=(e,s,a=0)=>{const n=$(s,e.key);if(e.render)return e.render(n,s,a);switch(e.type){case"index":return`<strong>${(c.value-1)*d.itemsPerPage+a+1}</strong>`;case"badge":return`<span class="badge badge-sm bg-gradient-${e.badgeColor?typeof e.badgeColor=="function"?e.badgeColor(n,s):e.badgeColor:"primary"}">${n||"-"}</span>`;case"date":return n?new Date(n).toLocaleDateString("fr-FR"):"-";case"currency":return n!=null?new Intl.NumberFormat("fr-CD",{style:"currency",currency:"CDF"}).format(n):"-";case"avatar":const B=$(s,e.nameKey||"name"),K=$(s,e.emailKey||"email");return`
        <div class="d-flex px-2 py-1">
          <div>
            <img src="${$(s,e.avatarKey||"avatar")||ne}" class="avatar avatar-sm me-3" alt="${B}" />
          </div>
          <div class="d-flex flex-column justify-content-center">
            <h6 class="mb-0 text-sm">${B||"-"}</h6>
            ${K?`<p class="text-xs text-secondary mb-0">${K}</p>`:""}
          </div>
        </div>
      `;default:return n||"-"}},M=(e,s)=>typeof e.label=="function"?e.label(s):e.label,j=(e,s)=>typeof e.icon=="function"?e.icon(s):e.icon,Y=(e,s)=>(typeof e.class=="function"?e.class(s):e.class)||"text-secondary",Z=(e,s,a)=>{e.onClick&&e.onClick(s,a),m("action",{action:e.name||M(e,s),row:s,index:a})},ee=(e,s)=>{m("row-click",{row:e,index:s})},A=e=>{e>=1&&e<=C.value&&(c.value=e)};return te(f,()=>c.value=1),(e,s)=>(l(),i("div",{class:g(["card",t.cardClass])},[t.title||e.$slots.header||t.showSearch||e.$slots.actions?(l(),i("div",re,[o("div",ue,[o("div",fe,[p(e.$slots,"header",{},()=>[o("h6",me,u(t.title),1),t.subtitle?(l(),i("p",he,u(t.subtitle),1)):y("",!0)],!0)]),o("div",ye,[t.showSearch?(l(),N(le,{key:0,modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=a=>f.value=a),type:"text",placeholder:"Rechercher...",size:"sm",class:"mb-0",style:{"min-width":"200px"}},null,8,["modelValue"])):y("",!0),p(e.$slots,"actions",{},void 0,!0)])])])):y("",!0),o("div",ge,[t.loading?(l(),i("div",ve,[be,o("p",pe,u(t.loadingText),1)])):!v.value||v.value.length===0?(l(),i("div",xe,[$e,o("p",Ce,u(t.emptyText),1)])):(l(),i("div",ke,[o("table",_e,[o("thead",null,[o("tr",null,[(l(!0),i(k,null,_(t.columns,(a,n)=>(l(),i("th",{key:n,class:g(["text-uppercase text-secondary text-xxs font-weight-bolder opacity-7",U(a,n)]),style:ae(a.width?`width: ${a.width}`:"")},u(a.label),7))),128)),w.value?(l(),i("th",Se)):y("",!0)])]),o("tbody",null,[(l(!0),i(k,null,_(I.value,(a,n)=>(l(),i("tr",{key:Q(a,n),class:g(t.rowClass),onClick:r=>ee(a,n)},[(l(!0),i(k,null,_(t.columns,(r,V)=>(l(),i("td",{key:V,class:g(W(r))},[p(e.$slots,`cell-${r.key}`,{row:a,value:$(a,r.key),index:n},()=>[o("span",{innerHTML:X(r,a,n)},null,8,we)],!0)],2))),128)),w.value?(l(),i("td",Te,[p(e.$slots,"row-actions",{row:a,index:n},()=>[o("div",Ve,[(l(!0),i(k,null,_(t.actions,(r,V)=>(l(),i("a",{key:V,href:"javascript:;",class:g(["font-weight-bold text-xs",Y(r,a)]),title:M(r,a),onClick:se(B=>Z(r,a,n),["stop"])},[j(r,a)?(l(),i("i",{key:0,class:g([j(r,a),"me-1"])},null,2)):y("",!0),r.iconOnly?y("",!0):(l(),i("span",Ae,u(M(r,a)),1))],10,Me))),128))])],!0)])):y("",!0)],10,Pe))),128))])])])),t.showPagination&&C.value>1?(l(),i("div",Be,[o("div",De,u(T.value+1)+"-"+u(h.value)+" sur "+u(v.value.length),1),P(ie,null,{default:z(()=>[P(D,{disabled:c.value===1,onClick:s[1]||(s[1]=a=>A(c.value-1)),prev:""},null,8,["disabled"]),(l(!0),i(k,null,_(J.value,a=>(l(),N(D,{key:a,label:a.toString(),active:a===c.value,onClick:n=>A(a)},null,8,["label","active","onClick"]))),128)),P(D,{disabled:c.value===C.value,onClick:s[2]||(s[2]=a=>A(c.value+1)),next:""},null,8,["disabled"])]),_:1})])):y("",!0)])],2))}},Xe=H(Le,[["__scopeId","data-v-5f53eda4"]]),F=t=>(R("data-v-342a4b7b"),t=t(),q(),t),ze=["id"],Fe={class:"modal-content"},Ie={class:"modal-header"},je={class:"modal-title"},Ke=F(()=>o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),Ne={class:"modal-body"},Ee=F(()=>o("p",null,"Contenu du modal",-1)),Ge={key:0,class:"modal-footer"},Re={key:0},qe=F(()=>o("i",{class:"fas fa-spinner fa-spin me-2"},null,-1)),He={key:1},Oe={__name:"GenericModal",props:{modalId:{type:String,required:!0},title:{type:String,default:"Modal"},size:{type:String,default:"md",validator:t=>["sm","md","lg","xl","fullscreen"].includes(t)},hideFooter:{type:Boolean,default:!1},cancelText:{type:String,default:"Annuler"},confirmText:{type:String,default:"Confirmer"},confirmColor:{type:String,default:"success"},confirmIcon:{type:String,default:"fas fa-check"},loadingText:{type:String,default:"Chargement..."},isLoading:{type:Boolean,default:!1}},emits:["confirm","cancel","close"],setup(t,{expose:x,emit:d}){const m=t,f=d,c=L(null),w=b(()=>({sm:"modal-sm",md:"modal-custom-md",lg:"modal-lg",xl:"modal-xl",fullscreen:"modal-fullscreen"})[m.size]||""),v=()=>{f("confirm")};return x({show:()=>{c.value&&new G(c.value).show()},hide:()=>{if(c.value){const h=G.getInstance(c.value);h&&h.hide()}}}),(h,I)=>(l(),i("div",{class:"modal fade",id:t.modalId,tabindex:"-1","aria-hidden":"true",ref_key:"modalElement",ref:c},[o("div",{class:g(["modal-dialog modal-dialog-centered",w.value])},[o("div",Fe,[o("div",Ie,[o("h5",je,[p(h.$slots,"title",{},()=>[S(u(t.title),1)],!0)]),Ke]),o("div",Ne,[p(h.$slots,"body",{},()=>[Ee],!0)]),t.hideFooter?y("",!0):(l(),i("div",Ge,[p(h.$slots,"footer",{},()=>[P(E,{type:"button",color:"secondary","data-bs-dismiss":"modal"},{default:z(()=>[S(u(t.cancelText),1)]),_:1}),P(E,{type:"button",color:t.confirmColor,onClick:v,disabled:t.isLoading},{default:z(()=>[t.isLoading?(l(),i("span",Re,[qe,S(" "+u(t.loadingText),1)])):(l(),i("span",He,[o("i",{class:g(t.confirmIcon+" me-2")},null,2),S(" "+u(t.confirmText),1)]))]),_:1},8,["color","disabled"])],!0)]))])],2)],8,ze))}},Ye=H(Oe,[["__scopeId","data-v-342a4b7b"]]);export{Xe as D,Ye as G};
